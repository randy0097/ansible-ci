ultra_permission_data_git: git@192.168.194.114:whdev-backend/ultra-permission-data.git
ultra_permission_client_git: git@192.168.194.114:whdev-backend/ultra-permission-client.git
ultra_permission_cas_client_git: git@192.168.194.114:whdev-backend/ultra-permission-cas-client.git

dependance_name: ultra_permission_data
dependance_gits:
  ultra_permission_data: ultra_permission_data_git
  ultra_permission_client: ultra_permission_client_git
  ultra_permission_cas_client: ultra_permission_cas_client_git

dependance_git: "{{dependance_gits[dependance_name]}}"

dependance_dir: "{{build_dir_env}}/{{dependance_name}}"
dependance_version: "{{ dependance_commitId if dependance_commitId != '' else branchName }}"

frontend_git: git@192.168.194.114:whdev-frontend/ultra-permission-frontend.git
permission_server_git: git@192.168.194.114:whdev-backend/ultra-permission-server.git
cas_server_git: git@192.168.194.114:whdev-backend/ultra-permission-cas-server.git

frontend_version: "{{ frontend_commitId if frontend_commitId != '' else branchName }}"
backend_version: "{{ backend_commitId if backend_commitId != '' else branchName }}"
cas_version: "{{ cas_commitId if cas_commitId != '' else branchName }}"

build_dir: /root/build/ultra-permission
build_dir_env: "{{build_dir}}/{{env}}"

frontend_dir: "{{build_dir_env}}/permission-web"
frontend_dist: "{{frontend_dir}}/dist/"
frontend_app_dir: "{{frontend_dir}}/{{appName}}"
tomcat_dir: /glusterfs_mnt/{{env}}_tomcat_permission/tomcat
deploy_name: ultra-permission

backend_dir: "{{build_dir_env}}/permission"
backend_module_dir: "{{backend_dir}}/ultra-permission-server"
backend_target_dir: "{{backend_module_dir}}/target"
module_name: "{{module_name_origin.stdout_lines[1]|replace(' ', '')|replace('<artifactId>', '')|replace('</artifactId>', '')}}"
module_version: "{{module_version_origin.stdout|replace(' ', '')|replace('<version>', '')|replace('</version>', '')}}"
backend_build_name: "{{module_name}}-{{module_version}}"
backend_build_dir: "{{backend_target_dir}}/{{backend_build_name}}"
backend_war_name: ultra-permission.war


remote_temp: ~/build/{{env}}

appNameToFolderName:
  web: web
  
appFolder: "{{appNameToFolderName[appName]}}"

cas_dir: "{{build_dir_env}}/cas"
cas_module_dir: "{{cas_dir}}/"
cas_target_dir: "{{cas_module_dir}}/target"
# cas_build_name: "{{module_name}}-{{module_version}}"
# cas_build_dir: "{{cas_target_dir}}/{{cas_build_name}}"
cas_war_name: ultra-permission-cas-server.war
cas_tomcat_dir: /glusterfs_mnt/{{env}}_tomcat_cas/tomcat
cas_deploy_name: ultra-cas

envToConfig:
  devwh: devwh.json
  testwh: testwh.json
  preprodwh: preprodwh.json
  prodwh: prodwh.json

configFile: "{{envToConfig[env]}}"

envToActive:
  devwh: devwh
  testwh: testwh
  preprodwh: preprodwh
  prodwh: prodwh
  
spring_profiles_active: "{{envToActive[env]}}"
spring_profiles_active_old: "devwh"

envToSwagger:
  devwh: true
  testwh: true
  preprodwh: false
  prodwh: false

swagger_active: "{{envToSwagger[env]}}"

